# HOLA
---

## Data Warehousing

![](img/dwh.png)

---

## RDBMS

![](img/rdbms.png)


---
## What is Teradata?
- A global leader in enterprise data warehousing and analytic technologies.
- In data warehousing arena for over 27 years in over 60 countries delivering data warehouse appliance solutions. 
- Has about 1,000 customers, with annual revenue of about $1.6 billion from data warehousing solutions. 
- The Teradata enterprise data warehouse provides integrated and extensible technology for a single application neutral repository of a company's current and historical data, forming the framework of the business intelligence architecture.
- Provides functionality for large, complex, mixed workload environments. 

---
## What is Teradata (cont.)?

- It has specific strengths (e.g., strong penetration, data models and professional services) in the vertical markets such as retail, financial and banking, telecom and manufacturing. 
- Its largest and most prominent customer is Wal-Mart. Other customers include companies like AT&T (formerly SBC), Dell, Continental Airlines, Overstock.com, FedEx, Vodafone, Gap Inc, and eBay. 
- Its main competitors are other mature DBMS solutions such as IBM's DB2, Microsoft and Oracle.
- Its latest data warehouse release is Teradata 16. Its features include high-performance parallel database technology, a cost-based optimizer, a sophisticated mixed workload management tool, a full suite of data access and management tools and data mining software.   

---
## Parallelism, the secret sauce

![](img/parallel.PNG)

---
## What are Teradata features?
- A relational database management system designed for enterprise data warehousing.
- A massively parallel processing system.
- A **shared nothing** architecture.
- Linear scalability in all dimensions of a database system workload (i.e., data volume, breadth, number of users, complexity of queries)

---
## Parallel Architectures

![](img/parallel-architecture.PNG)

---
## Why to use Teradata?

- Linear scalability.
- Open architecture, i.e. faster hardware can be easily incorporated.
- Tasks divided in equal pieces, so all the system is kept busy.
- Single point of control for the DBA (Teradata Viewpoint).
- Connectors to large numbers of BI tools.

---
## Teradata Architecture

- Teradata acts as a single data store, with multiple client applications making inquiries against it concurrently.
- It provides the same connectivity for an entry level system as it does for an EDW.
- A Teradata system contains one or more **nodes**. A node is a term for a processing unit under the
control of a single operating system.
- The node is where the processing occurs for the Teradata Database.
- **Symmetric multiprocessing (SMP)**: An SMP Teradata system has a single node that contains multiple CPUâ€™s sharing a memory pool
- **Massively parallel processing (MPP)**: Multiple SMP nodes working together comprise a larger, MPP implementation. The nodes are connected using BYNET, which allows multiple virtual processors on multiple nodes to communicate with each other.

---
## Teradata Architecture: PE

![](img/pe.PNG)

---
## Teradata Architecture: BYNET

![](img/bynet.PNG)

---
## Teradata Architecture: AMP

![](img/amp.PNG)

---
## How does Teradata store rows?

- Teradata uses hashing algorithm to randomly and evenly distribute data across all AMPs.
- The rows of every table are distributed among all AMPs - and ideally will be evenly distributed
among all AMPs.
- Each AMP is responsible for a subset of the rows of each table.
- Evenly distributed tables result in evenly distributed workloads.
- The data is not placed in any particular order
- No maintenance needed to preserve order.
- Distribution is the same regardless of data volume, and is based on row content, not data demographics

---
## How does Teradata store rows?

![](img/order.PNG)


---
## Primary Indexes

- The mechanism used to assign a row to an AMP.
- A table must have a Primary Index that cannot be changed.
- Primary Index can be unique (**UPI**) or non-unique (**UPI**)
- For example: Consider a transaction table with columns `OrderNumber`, `CustomerId`, `OrderDate` and `Total`. Rows can be distributed using a `UPI` (in this case, `OrderNumber`, which is also the PK) or a `NUPI` (in this case, `CustomerId`). In the first case, the distribution of the rows is non-skewed across AMPs, while in the second case we will have a less even row distribution.

---
## What could go wrong with this?: `JOIN`

- In order to process records in a Join, they have to be on the same processing unit
- Most RDBMS have to send the records to a single processing unit, to perform the Join

![](img/bottleneck.PNG)

---
## Avoiding bottlenecks

- The Join is performed balanced on all nodes if the primary index is chosen properly. 
- Each node performs a smaller part of the join.
- Similar bottlenecks (and solutions) apply for `GROUP BY` and `ORDER` queries.

![](img/balanced.PNG)

---
# Setting up the environment

---
## Pre-requisites

To get started, you need to download:

-	Teradata Express 16.20 VM Image.
-	VMWare Workstation 15 Player.
-	Teradata tools and utilities.
- JDK 8 and other dependencies (see the download page for TD Express).
- You can download these from: [Teradata Downloads page.](http://downloads.teradata.com/download/database/teradata-express-for-vmware-player)
- An account is required, you can create one for free.

---
## Launch your VM
	
- In VMWare Player's main window, right click on the VM name and select "Virtual Machine Settings".
- In the settings window, click on "Network Adapter" and among the options on the right, select "Host-only: a private network shared with the host".
- Click ok and boot your virtual machine.
- Login credentials are root/root

---
## Connect to your DB

- Open a terminal and type `ifconfig`. You should see an `inet addr` value as below.

![](img/vmware.PNG)

--- 
## Test connection

- On your `PowerShell` or `UNIX` console, ping the IP address of your DB with the command `ping 192.168.47.129`
![](img/ps.png)

---
## Connect with SQLA
- Now open SQL Assistant, and create a new connection using the IP address of your DB. 
- Default credentials are dbc/dbc.
- Run a simple query.

![](img/sqla.png)

---
## SQLA Shortcuts

- **F2**: It will open query builder, with syntax for all SQL queries.
- **F5**: Execute SQL query.
- **F6**: Explain plan for SQL query.
- **F9**: Execute SQL queries in parallel.
- **F10**: Abort SQL query.
- **F11**: Display last error encountered.
- **Ctrl + N**: New SQL query window.
- **Ctrl + Q**: Format SQL query.
- **Ctrl + U**: Convert to UPPERCASE.
- **Ctrl + H**: Find and replace.

---
## Inside SQLA

- Go to **Tools | Options | Query** to change the behavior if needed.
- **Query Builder.**



